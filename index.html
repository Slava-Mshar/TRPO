<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Распределение нагрузки</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Система распределения учебной нагрузки</h1>
    </header>

    <section id="auth" class="section">
        <h2>Вход</h2>
        <form id="loginForm" class="form">
            <input type="text" id="username" placeholder="Логин" required>
            <input type="password" id="password" placeholder="Пароль" required>
            <button type="submit">Войти</button>
        </form>
        <p>Нет аккаунта? <button type="button" onclick="showRegister()">Зарегистрироваться</button></p>
    </section>

    <section id="register" class="section hidden">
        <h2>Регистрация</h2>
        <form id="registerForm" class="form">
            <input type="text" id="regUsername" placeholder="Логин" required>
            <input type="password" id="regPassword" placeholder="Пароль" required>
            <select id="regRole" required>
                <option value="teacher">Преподаватель</option>
                <option value="admin">Заведующий</option>
            </select>
            <button type="submit">Зарегистрироваться</button>
        </form>
        <button type="button" onclick="showLogin()">Назад</button>
    </section>

    <nav id="mainNav" class="hidden">
        <button type="button" onclick="showSection('teachers')">Преподаватели</button>
        <button type="button" onclick="showSection('groups')">Группы</button>
        <button type="button" onclick="showSection('disciplines')">Дисциплины</button>
        <button type="button" onclick="showSection('assignments')">Назначения</button>
        <button type="button" onclick="showSection('reserves')">Резерв</button>
        <button type="button" onclick="showSection('reports')">Отчеты</button>
        <button type="button" onclick="showSection('myLoad')">Моя нагрузка</button>
        <button type="button" onclick="logout()">Выйти</button>
    </nav>

    <main id="mainContent" class="hidden">
        <section id="teachers" class="section hidden">
            <h2>Преподаватели</h2>
            <form id="addTeacherForm" class="form">
                <input type="text" id="teacherName" placeholder="Имя" required>
                <input type="text" id="teacherSpec" placeholder="Специализация" required>
                <input type="number" id="teacherMaxHours" placeholder="Макс. часов" required>
                <button type="submit">Добавить</button>
            </form>
            <table id="teachersTable" class="table">
                <thead><tr><th>ID</th><th>Имя</th><th>Специализация</th><th>Макс.</th><th>Текущие</th><th>Действия</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="groups" class="section hidden">
            <h2>Группы</h2>
            <form id="addGroupForm" class="form">
                <input type="text" id="groupName" placeholder="Название" required>
                <input type="text" id="groupCourse" placeholder="Курс" required>
                <button type="submit">Добавить</button>
            </form>
            <table id="groupsTable" class="table">
                <thead><tr><th>ID</th><th>Название</th><th>Курс</th><th>Действия</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="disciplines" class="section hidden">
            <h2>Дисциплины</h2>
            <form id="addDisciplineForm" class="form">
                <input type="text" id="disciplineName" placeholder="Название" required>
                <input type="number" id="disciplineHours" placeholder="Часы" required>
                <button type="submit">Добавить</button>
            </form>
            <table id="disciplinesTable" class="table">
                <thead><tr><th>ID</th><th>Название</th><th>Часы</th><th>Действия</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="assignments" class="section hidden">
            <h2>Назначения</h2>
            <form id="assignLoadForm" class="form">
                <select id="assignTeacher" required></select>
                <select id="assignGroup" required></select>
                <select id="assignDiscipline" required></select>
                <input type="number" id="assignHours" placeholder="Часы" required>
                <button type="submit">Назначить</button>
            </form>
            <table id="assignmentsTable" class="table">
                <thead><tr><th>ID</th><th>Преп.</th><th>Группа</th><th>Дисц.</th><th>Часы</th><th>Действия</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>
        <section id="reserves" class="section hidden">
            <h2>Резерв</h2>
            <form id="addReserveForm" class="form">
                <select id="reserveTeacher" required></select>
                <select id="reserveDiscipline" required></select>
                <input type="number" id="reserveHours" placeholder="Часы" required>
                <button type="submit">Добавить</button>
            </form>
            <table id="reservesTable" class="table">
                <thead><tr><th>ID</th><th>Преп.</th><th>Дисц.</th><th>Часы</th><th>Действия</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Отчеты -->
        <section id="reports" class="section hidden">
            <h2>Отчеты</h2>
            <div class="button-group">
                <button type="button" onclick="generateCurrentLoadReport()">Текущая</button>
                <button type="button" onclick="generateSemesterReport()">За семестр</button>
            </div>
            <div id="reportOutput" class="report-output"></div>
        </section>

        <!-- Моя нагрузка -->
        <section id="myLoad" class="section hidden">
            <h2>Моя нагрузка</h2>
            <table id="myAssignmentsTable" class="table">
                <thead><tr><th>ID</th><th>Группа</th><th>Дисциплина</th><th>Часы</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>
    </main>

    <div id="messages" class="message"></div>
</body>
</html>